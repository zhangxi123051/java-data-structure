package com.tencent.algorithm.leetcode.tree;



//è·¯å¾„ è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œ
// æ²¿çˆ¶èŠ‚ç‚¹-å­èŠ‚ç‚¹è¿æ¥ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚åŒä¸€ä¸ªèŠ‚ç‚¹åœ¨ä¸€æ¡è·¯å¾„åºåˆ—ä¸­ è‡³å¤šå‡ºç°ä¸€æ¬¡ ã€‚è¯¥è·¯å¾„ è‡³å°‘åŒ…å«ä¸€ä¸ª èŠ‚ç‚¹ï¼Œä¸”ä¸
//ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚
//
// è·¯å¾„å’Œ æ˜¯è·¯å¾„ä¸­å„èŠ‚ç‚¹å€¼çš„æ€»å’Œã€‚
//
// ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶ æœ€å¤§è·¯å¾„å’Œ ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šroot = [1,2,3]
//è¾“å‡ºï¼š6
//è§£é‡Šï¼šæœ€ä¼˜è·¯å¾„æ˜¯ 2 -> 1 -> 3 ï¼Œè·¯å¾„å’Œä¸º 2 + 1 + 3 = 6
//
// ç¤ºä¾‹ 2ï¼š
//
//
//è¾“å…¥ï¼šroot = [-10,9,20,null,null,15,7]
//è¾“å‡ºï¼š42
//è§£é‡Šï¼šæœ€ä¼˜è·¯å¾„æ˜¯ 15 -> 20 -> 7 ï¼Œè·¯å¾„å’Œä¸º 15 + 20 + 7 = 42
//
//
//
//
// æç¤ºï¼š
//
//
// æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®èŒƒå›´æ˜¯ [1, 3 * 104]
// -1000 <= Node.val <= 1000
//
// Related Topics æ ‘ æ·±åº¦ä¼˜å…ˆæœç´¢ é€’å½’
// ğŸ‘ 895 ğŸ‘ 0
/*
è¿™é¢˜ç›®çš„éš¾ç‚¹åœ¨äºç†è§£é¢˜æ„å’Œè½¬åŒ–é¢˜æ„ã€‚
æˆ‘ä»¬å¯ä»¥ç»“åˆ æ•°ç»„çš„æœ€å¤§å­æ•°ç»„å’Œ çš„æ€è·¯å»è§£é¢˜ã€‚

1. ã€Œå¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘, åˆ°è¾¾ä»»æ„èŠ‚ç‚¹ã€ çš„è·¯å¾„,
ä¸€å®šæ˜¯å…ˆä¸Šå‡ï¼ˆ 0 ï½ n ä¸ªï¼‰èŠ‚ç‚¹, åˆ°è¾¾é¡¶ç‚¹, åä¸‹é™ï¼ˆ 0 ï½ n ä¸ªï¼‰èŠ‚ç‚¹ã€‚
æˆ‘ä»¬å¯ä»¥é€šè¿‡æšä¸¾é¡¶ç‚¹çš„æ–¹å¼æ¥æšä¸¾è·¯å¾„ã€‚

2. æˆ‘ä»¬æšä¸¾é¡¶ç‚¹æ—¶, å¯ä»¥æŠŠè·¯å¾„åˆ†æ‹†æˆ3éƒ¨åˆ†ï¼š å·¦ä¾§è·¯å¾„ã€å³ä¾§è·¯å¾„å’Œé¡¶ç‚¹ã€‚
å¦‚ä¸‹é¢çš„è·¯å¾„, é¡¶ç‚¹ä¸º 20, å·¦ä¾§è·¯å¾„ä¸º 6 -> 15, å³ä¾§ä¸º 6 -> 7ã€‚

-10
/ \
9 [20]
/  \
[15] [7]
/    / \
[6]   4  [6]

ä»¥å½“å‰èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„è·¯å¾„ä¸­, æœ€å¤§å’Œä¸º ä¸¤ä¾§è·¯å¾„çš„æœ€å¤§å’Œ + èŠ‚ç‚¹çš„å€¼ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯, ä¸¤ä¾§è·¯å¾„ä¹Ÿå¯èƒ½ä¸é€‰, æ­¤æ—¶å– 0ã€‚

3. å¦‚ä½•æ±‚ä¸¤ä¾§è·¯å¾„æœ€å¤§å’Œï¼Ÿ çœ‹ä¸€ä¸ªç±»ä¼¼é—®é¢˜ï¼šæ±‚æ•°ç»„çš„æœ€å¤§å­æ•°ç»„å’Œã€‚
åŠ¨æ€è§„åˆ’ï¼š dp[i] ä»£è¡¨ä»¥ nums[i] ä¸ºç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œã€‚
è½¬ç§»æ–¹ç¨‹ï¼š dp[i] = max(dp[i-1], 0) + nums[i]ã€‚

4. åœ¨æ ‘ä¸Š, è®¾ dp[C] ä»£è¡¨ä»¥å½“å‰èŠ‚ç‚¹ä¸ºç»“å°¾çš„æœ€å¤§ä¸Šå‡è·¯å¾„å’Œ,
åˆ™æˆ‘ä»¬éœ€è¦å¯¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘åšä¸€ä¸ªé€‰æ‹©, æœ‰
dp[C] = max(max(dp[L], 0), max(dp[R], 0)) + C.val
å¼ä¸­, C,L,R åˆ†åˆ«ä»£æŒ‡ å½“å‰èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€‚

5. æœ€å, ä»¥å½“å‰èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„è·¯å¾„ä¸­, æœ€å¤§çš„å’Œä¸º
max(dp[L], 0) + max(dp[R], 0) + C.valã€‚
æˆ‘ä»¬æšä¸¾é¡¶ç‚¹, å¹¶è®°å½•æœ€å¤§ç­”æ¡ˆã€‚
 */

import com.tencent.algorithm.leetcode.util.TreeNode;

public class S124{
    public static void main(String[] args) {
        Solution solution = new S124().new Solution();

    }
//leetcode submit region begin(Prohibit modification and deletion)
    /**
     * Definition for a binary tree node.
     * public class TreeNode {
     *     int val;
     *     TreeNode left;
     *     TreeNode right;
     *     TreeNode() {}
     *     TreeNode(int val) { this.val = val; }
     *     TreeNode(int val, TreeNode left, TreeNode right) {
     *         this.val = val;
     *         this.left = left;
     *         this.right = right;
     *     }
     * }
     */
    class Solution {
        int max=Integer.MIN_VALUE;
        public int maxPathSum(TreeNode root) {
            if(root == null ){
                return 0;
            }
            int left =Math.max(maxPathSum(root.left),0);
            int right=Math.max(maxPathSum(root.right),0);

            max=Math.max(max,(Integer) root.val+left+right);

            return (Integer) root.val+Math.max(left,right);
        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}